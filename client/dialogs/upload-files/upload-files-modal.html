<div class='upload-files-modal modal fade' data-backdrop="static" data-keyboard="false">
    <div class='modal-dialog modal-lg'>
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" aria-hidden="true" ng-click="self.closeModal()">&times;</button>
                <h4 class="modal-title">Upload Files</h4>
            </div>
            <div class="modal-body">
                <div class="form-horizontal">
                    <div class="form-group">
                        <button class="btn btn-default btn-block"
                                ng-show="!self.processing"
                                ngf-select="self.addForUpload($files, $event)"
                                ngf-multiple="true">
                            Select Files
                        </button>
                    </div>
                    <div class="form-group">
                        &nbsp;
                    </div>
                    <div class="form-group">
                        <div class="upload-list">
                            <ul class="list-group">
                                <li class="list-group-item" ng-repeat="(index, uploadFile) in self.uploadFileList"
                                    ng-click="self.selectFile(uploadFile)">
                                    <button style="padding: 0 10px;" class="btn btn-sm btn-danger pull-right"
                                            ng-click="self.removeFromUpload(index)">
                                        &times;
                                    </button>
                                    <div style="padding: 0 0.5em; max-height: 20%; overflow-y: auto;"
                                         ng-show="uploadFile.uploadingProgress">
                                        <div style="margin-bottom: 0.5em; border-top: 1px solid #eee; display: flex; align-items: center;">
                                            <div style="flex: 1; overflow: hidden;">
                                                <div style="overflow: hidden; text-overflow: ellipsis;">
                                                    {{uploadFile.uploadingProgress.status}}
                                                </div>
                                                <div class="progress" style="margin-bottom: 3px; height: 3px;">
                                                    <div class="progress-bar progress-bar-striped active"
                                                         ng-style="{width: uploadFile.uploadingProgress.progress + '%'}"></div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <h5 class="list-group-item-heading">{{uploadFile.name}}</h5>
                                </li>
                            </ul>
                        </div>
                    </div>
                    <div class="hr-sect-file">Meta Data</div>
                    <div class="form-group" ng-repeat="m in self.selectedFile.metaData track by $index">
                        <div class="col-sm-5">
                            <input type="text" class="form-control" ng-model="m.name" required/>
                        </div>
                        <div class="col-sm-5">
                            <input type="text" class="form-control" ng-model="m.value" required/>
                        </div>
                        <div class="col-sm-2">
                            <button class="btn btn-flat btn-sm" type="button" aria-expanded="true"
                                    ng-click="self.removeMetadata(m)">
                                <i class="fa fa-remove"></i>&nbsp;Delete
                            </button>
                        </div>
                    </div>
                    <div class="form-group text-center">
                        <button class="btn btn-flat btn-sm" type="button" aria-expanded="true"
                                ng-click="self.addMetadata(self.selectedFile)">
                            <i class="fa fa-plus"></i>&nbsp;Add Meta Data
                        </button>
                    </div>
                </div>
            </div>
            <!--<div style="max-height: 70vh; overflow-y: overlay; overflow-x: hidden; text-align: left;" class="modal-body text-center">-->
            <!--</div>-->
            <div class="modal-footer">
                <button type="button" ng-click="self.uploadFiles()" class="btn btn-default">
                    <span class="ok-16x16"></span>&nbsp;Upload
                </button>
                <button type="button" ng-click="self.closeModal()" class="btn btn-default">
                    <span class="close-16x16"></span>&nbsp;Cancel
                </button>
            </div>
        </div>
    </div>
</div>